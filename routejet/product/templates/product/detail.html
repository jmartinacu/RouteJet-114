{% extends "core/base.html" %}

{% load static %}

{% block title %} Ficha Producto {% endblock title %}

{% block header %}
  <link rel="stylesheet" href="{% static "css/detail.css" %}">
  <!-- Agrega el enlace a Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" integrity="sha384-TX5NqxEyOYZ+KqXgXJPXWc+bKFgPxbY7P2HDV0eOR0zUvUjDm1qss6IRmbYSlAg7" crossorigin="anonymous">
  <style>
    .product-details {
      margin-top: 20px;
    }

    .product-details h1 {
      font-size: 24px;
    }

    .product-details h2 {
      font-size: 18px;
    }

    .price {
      font-size: 18px;
      font-weight: bold;
    }

    .detail-nav-submit {
      margin-top: 20px;
    }

    .detail-nav-submit form {
      margin-bottom: 10px;
    }

    .purchase-now {
      margin-right: 10px;
    }
  </style>
{% endblock header %}

{% block description %} {{ product.name }} {% endblock description %}

{% block content %}
  <div class="container mt-5">
    <div class="row">
      <div class="col-md-6">
<img src="{% if product.image %}{{ product.image.url }}{% else %}{% static "img/no_image.png" %}{% endif %}" alt="{{ product.name }}" class="img-fluid rounded" style="max-width: 300px; height: auto; padding-bottom:30px">
      </div>
      <div class="col-md-6">
        <div class="product-details">
          <h1>{{ product.name }}</h1>
          <h2 class="text-muted">Ciudad: {{ product.city }}</h2>
          <p class="price">Precio: {{ product.price }}€</p>
          <p class="numero de tickets">Numero de tickets: {{ product.num_products }}</p>
          <p class="descripción">Descripción:  {{ product.description }}</p>
          <form action="{% url "store:cart_add" product_id=product.id %}?origin=detail" method="post" class="mb-3">
            {% csrf_token %}
            {{ form.as_p }}
            {% if form.errors %}
              <div class="alert alert-danger">
                {% for error in form.errors %}
                  <p>{{ error }}</p> 
                {% endfor %}
        </div>
          
            {% endif %}
            <button type="submit" class="btn btn-success">Añadir al carrito</button>
            <a href="#" class="btn btn-primary purchase-now">Compra ahora</a>

          </form>
        </div>
      </div>
    </div>
  </div>
  <!-- Agrega el script de Bootstrap al final del cuerpo del documento -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-pzjw8+ua/Ci8q+OXG7jOxLw25LsiM/X8HEF7SPZSW6Cf0xg1Qq0+Yj4yzP5PxWo=" crossorigin="anonymous"></script>
{% endblock content %}
